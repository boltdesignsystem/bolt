{% set options = [] %}
{% set versions = bolt.data.tags %}

{% for version in versions %}
  {# Matches only the 'vX.X.X' sematic versioning pattern #}
  {% if version matches '/^v((([0-9]+)\.([0-9]+)\.([0-9]+)?))$/' %}
    {% set versionOption = {
      'label': version,
      'type': 'option',
      'value': 'https://' ~ version|replace({'.': '-'}) ~ '.boltdesignsystem.com'
    } %}
    {% set options = options|merge([versionOption]) %}
  {% endif %}
{% endfor %}

{% set children %}
  <bolt-select should-sort-items="true" item-select-text="" class="js-bolt-version-selector">
    {% include("@bolt-components-form/form-select.twig") with {
      options: options,
      attributes: {
        class: [
          "c-bds-version-selector",
          "u-bolt-padding-top-xsmall",
          "u-bolt-padding-left-xsmall",
          "u-bolt-padding-bottom-xsmall",
          "u-bolt-padding-right-xsmall",
        ]
      },
    } only %}
  </bolt-select>
{% endset %}

{% include("@bolt-components-form/form-element.twig") with {
  children: children,
} only %}
