{% extends "@bolt-components-form/form-element.twig" %}

{% import "@bolt-academy/_macros.twig" as macros %}

{% set label %}
  {{ macros.include("@bolt-components-form/form-label.twig", {
    "title": "Hide Completed",
    "displayType": "inline-checkbox",
    "attributes": {
      "for": "hide-completed"
    }
  }) }}
{% endset %}

{% set children %}
  {{ macros.include("@bolt-components-form/form-input.twig", {
    "attributes": {
      "type": "checkbox",
      "id": ["hide-completed"],
      "checked": hideCompleted,
      "data-demo-url": hideCompleted ? link["pages-acd-mission-landing"] : link["pages-acd-mission-landing-hide-completed"]
    }
  }) }}

  <!-- Super simple demo for PL to go back and forth between page examples -->
  <script>
    document.querySelector('#hide-completed').addEventListener('change', function(e){
      if (!e.target.getAttribute('data-demo-url')) return;
      e.target.checked = !e.target.checked; // so browser history (going back and forth) doesn't mess w/ :checked psuedo state
      window.location.href = e.target.getAttribute('data-demo-url');
    });
  </script>

{% endset %}
