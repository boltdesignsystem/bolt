{% macro slotted_icon(icon, icon_position, slot_name) %}
  {% if icon and icon_position == slot_name %}
    <ssr-keep for="bolt-button" class="c-bolt-button__icon c-bolt-button__icon-sizer">
      {% set icon = icon | merge({
        attributes: {
          slot: slot_name,
          class: icon.attributes.class | default([])
        }
      }) %}
      {% include "@bolt-components-icon/icon.twig" with icon only %}
    </ssr-keep>
  {% endif %}
{% endmacro %}