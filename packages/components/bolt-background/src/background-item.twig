{% set schema = bolt.data.components['@bolt-components-background'].schema %}

{# Variables #}
{% set this = init(schema) %}

{% if item.src or item.srcset %}
  <div class="{{ 'c-bolt-background__item' }}">
    {% set attributes = {} %}

    {% if item.srcset %}
      {% set attributes = attributes|merge({ srcset: item.srcset }) %}
    {% endif %}

    {% if item.width %}
      {% set attributes = attributes|merge({ width: item.width }) %}
    {% endif %}

    {% if item.height %}
      {% set attributes = attributes|merge({ height: item.height }) %}
    {% endif %}

    {% if item.align or item.valign %}
      {% set _align = item.align ? item.align : 'center' %}
      {% set _valign = item.valign ? item.valign : 'center' %}
      {% set _alignment = _align ~ ' ' ~ _valign %}
      {% set attributes = attributes|merge({ style:  '--e-bolt-image-position: ' ~ _alignment ~ ';' }) %}
    {% endif %}

    {% set _sizes = item.sizes ? item.sizes : '100vw' %}

    {# Found both of these spellings, expanding the conditional to catch both #}
    {% set _loading = (item.lazyLoad is same as false) or (item.lazyload is same as false) ? 'eager' : 'lazy' %}

    {% include '@bolt-elements-image/image.twig' with {
      background: true,
      attributes: attributes|merge({
        src: item.src,
        sizes: _sizes,
        loading: _loading,
      })
    } only %}
  </div>
{% elseif (item is iterable) %}
  <div class="{{ 'c-bolt-background__item' }}">
    {{ item }}
  </div>
{% else %}
  {{ item }}
{% endif %}
