{% set attributes = create_attribute(attributes|default({})).addClass('c-bolt-action-block') %}

{# DEPRECATED. Use 'media' instead of 'icon'. #}
{% if icon and not media %}
  {% set icon %}
    {% set icon = icon | merge({
      size: icon.size | default('xlarge')
    }) %}
    {% include '@bolt-elements-icon/icon.twig' with icon only %}
  {% endset %}
  {% set media = icon %}
{% endif %}

{% set tag = 'div' %}

{% if url %}
  {% set tag = 'a' %}
  {% set attributes = attributes.setAttribute('href', url) %}
  {% set attributes = attributes.addClass('c-bolt-action-block--link') %}
{% endif %}

<bolt-action-block>
  <{{ tag }} {{ attributes }}>
  {% if media %}
    <div class="c-bolt-action-block__item">
      {{ media }}
    </div>
  {% endif %}

  {% if text %}
    <div class="c-bolt-action-block__item c-bolt-action-block__text">
      {{ text }}
    </div>
  {% endif %}
</{{ tag }}>
</bolt-action-block>
